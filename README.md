# AnyPush - 跨设备推送助手

一个简单易用的Chrome浏览器插件，帮助您快速推送选中文本和链接到其他设备。

## ✨ 主要功能

### 📝 文本推送
- **右键菜单推送**：选中文本后右键选择"推送选中文本"
- **插件图标推送**：点击插件图标，在弹窗中推送选中文本

### 🔗 链接推送
- **当前页面推送**：通过插件弹窗快速推送当前页面链接

### 🚀 多种推送服务支持
- **企业微信机器人**：支持企业微信群聊机器人webhook推送
- **Bark**：支持Bark iOS推送服务
- **可扩展架构**：预留接口便于添加更多推送服务

### ⚙️ 智能配置
- **推送内容控制**：可选择是否包含页面来源信息
- **消息模板自定义**：支持自定义推送消息格式，使用变量替换
- **Bark高级选项**：推送级别、铃声、分组、角标、音量等丰富配置
- **云同步**：支持Google账户和WebDAV服务器配置同步
- **导入导出**：配置文件导入导出功能
- **实时测试**：配置页面提供推送测试功能

### 📱 用户体验
- **状态反馈**：推送状态实时通知提醒
- **简洁界面**：清爽的材料设计风格界面
- **快速操作**：一键完成推送操作
- **个性化推送**：根据需要定制推送内容和样式

## 🔧 安装使用

### 1. 安装插件
1. 下载插件源码
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择插件根目录完成安装

### 2. 配置推送服务
点击插件图标，然后点击"配置推送服务"进入设置页面：

#### 企业微信机器人配置
1. 在企业微信群聊中添加机器人
2. 获取webhook URL（格式：`https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=YOUR_KEY`）
3. 在插件配置中填入URL并启用

#### Bark配置
1. 下载安装Bark iOS应用
2. 获取推送URL（格式：`https://api.day.app/YOUR_KEY/`）
3. 在插件配置中填入URL并启用

### 3. 开始使用
- **推送文本**：选中网页文本，右键选择"推送选中文本"
- **推送链接**：点击插件图标，在弹窗中点击"推送当前链接"

## 🛠️ 开发说明

### 项目结构
```text
anypush/
├── manifest.json          # Chrome插件配置清单
├── background.js          # 后台服务脚本
├── popup.html/js          # 插件弹窗界面
├── options.html/js        # 配置页面
├── content.js             # 内容脚本
├── icons/                 # 插件图标文件
└── project               # 项目需求文档
```

### 技术栈
- Chrome Extension Manifest V3
- 原生JavaScript + HTML + CSS
- Chrome存储API
- 企业微信Webhook API
- Bark推送API

### 调试方法
- **后台脚本**：扩展管理页面 → 检查视图 → 服务工作进程
- **弹窗界面**：右键插件图标 → 检查弹出内容
- **配置页面**：配置页面右键 → 检查

## 🔄 配置同步

### Google账户同步
插件使用Chrome的`chrome.storage.sync`API，配置会自动在登录同一Google账户的Chrome浏览器间同步。

### WebDAV同步
在配置页面选择WebDAV同步，填写服务器信息：
- WebDAV服务器地址
- 用户名和密码

支持坚果云、Nextcloud等WebDAV服务。

## 📝 更新日志

### v1.1.0 (最新)
- 🆕 添加推送来源信息控制选项
- 🆕 支持自定义推送消息模板（文本/链接）
- 🚀 大幅增强Bark推送选项：
  - 推送级别（默认/重要警告/时效性通知/被动通知）
  - 通知分组和角标设置
  - 30+种系统铃声可选
  - 音量控制（重要警告级别）
  - 自动复制和历史保存选项
- 🎨 优化配置页面UI，增加高级选项面板
- 🔧 改进Bark推送为POST请求，支持更多参数
- ✅ 配置页面支持高级选项实时测试

### v1.0.0
- 🎉 首个版本发布
- ✅ 基础文本和链接推送功能
- ✅ 企业微信机器人支持
- ✅ Bark推送服务支持
- ✅ 配置页面和云同步
- ✅ 推送状态反馈

## 🤝 贡献

欢迎提交Issues和Pull Requests来改进这个项目！

## 📄 许可证

MIT License